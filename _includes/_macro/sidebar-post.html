{% comment %} sidebar(is_post) {% endcomment %}

  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
      {% if is_post and site.toc.enable %}
        {% assign display_toc = true %}
        {% assign source = page.content %}
        {% include _helper/toc.html %}
      {% endif %}

      {% if display_toc and toc.size > 1 %}
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            {{ __.sidebar.toc }}
          </li>
          <li class="sidebar-nav-categories" data-target="post-categories">
            {{ __.sidebar.categories }}
          </li>
        </ul>
      {% endif %}

      <section class="post-categories sidebar-panel{% unless display_toc and toc.size > 1 %} sidebar-panel-active{% endunless %}">
        <div class="category-all-page motion-element">
          <div class="category-all">
            <ul class="category-list">
              <li class="category-list-item">
                <a class="category-all-link" href="/blog/">전체 글</a>
                <span class="category-list-count">{{ site.categories.size }}</span>
              </li>
            </ul>
          </div>
    
          <div class="category-all">
            {% include _helper/list_categories.html %}
            {{ list_categories }}
          </div>
        </div>
      </section>

      {% if display_toc and toc.size > 1 %}
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            {% if page.toc_number == nil %}
              {% assign list_number = site.toc.number %}
            {% else %}
              {% assign list_number = page.toc_number %}
            {% endif %}
            {% assign class = 'nav' %}
            {% assign source = page.content %}
            {% include _helper/toc.html %}

            {% if toc.size <= 1 %}
              <p class="post-toc-empty">{{ __.post.toc_empty }}</p>
            {% else %}
              <div class="post-toc-content">{{ toc }}</div>
            {% endif %}
          </div>
        </section>
      <!--/noindex-->
      {% endif %}

      {% if site.sidebar.b2t %}
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          {% if site.sidebar.scrollpercent %}
            <span id="scrollpercent"><span>0</span>%</span>
          {% endif %}
        </div>
      {% endif %}
    </div>
  </aside>
